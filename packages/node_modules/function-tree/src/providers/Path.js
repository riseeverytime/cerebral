import Provider from '../Provider'
import Path from '../Path'

function createNext(path) {
  return function(payload) {
    return new Path(path, payload)
  }
}

export default new Provider(
  (context, functionDetails) => {
    return functionDetails.outputs
      ? Object.keys(functionDetails.outputs).reduce((output, outputPath) => {
          output[outputPath] = createNext(outputPath)

          return output
        }, {})
      : null
  },
  {
    cache: false,
    wrap: false,
  }
)
