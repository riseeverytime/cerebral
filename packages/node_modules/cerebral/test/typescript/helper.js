const tt = require('typescript-definition-tester')
const ts = require('typescript')

module.exports.compileDirectory = function compileDirectory(done) {
  const filter = (fileName) => fileName.match(/\.ts$/)
  const options = {
    experimentalDecorators: true,
    noImplicitAny: true,
    target: ts.ScriptTarget.ES2016,
  }

  tt.compileDirectory(__dirname, filter, options, done)
}
