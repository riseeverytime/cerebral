import Inferno from 'inferno'
import Component from 'inferno-component';
import { Controller } from 'cerebral'
import { state, signal } from 'cerebral/tags'
import { Container, connect } from '@cerebral/inferno'

const controller = Controller({
  state: {
    foo: 'bar',
  },
  signals: {
    clicked: [],
  },
})

const App = () => <div>Some App</div>

Inferno.render(
  <Container controller={controller}>
    <App />
  </Container>,
  document.querySelector('#app')
)

// Stateless
connect({
  foo: state`foo`,
  click: signal`clicked`
},
  ({foo, click}) => {
    return <div onClick={click}>{foo}</div>
  }
)

// Stateful
connect({
  foo: state`foo`,
  click: signal`clicked`
},
  class MyComponent extends Component<{foo: any, click: any}, {}> {
    render() {
      return <div onClick={this.props.click}>{this.props.foo}</div>
    }
  }
)