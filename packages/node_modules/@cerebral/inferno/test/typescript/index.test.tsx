import App from 'cerebral'
import { sequences, state } from 'cerebral/tags'
import { Component, render } from 'inferno'

import { Container, connect } from '../../'

const app = App({
  state: {
    foo: 'bar',
  },
  sequences: {
    clicked: [],
  },
})

const AppComponent = () => <div>Some App</div>

render(
  <Container app={app}>
    <AppComponent />
  </Container>,
  document.querySelector('#app')
)

// Stateless
connect(
  {
    foo: state`foo`,
    click: sequences`clicked`,
  },
  ({ foo, click }) => {
    return <div onClick={click}>{foo}</div>
  }
)

// Stateful
connect(
  {
    foo: state`foo`,
    handleClick: sequences`clicked`,
  },
  class MyComponent extends Component<{ foo: any; click: any }, {}> {
    render() {
      return <div onClick={this.props.handleClick}>{this.props.foo}</div>
    }
  }
)
